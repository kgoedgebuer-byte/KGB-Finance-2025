
<style id="kgb-hardcap-style">
  html,body,#root,#app,main{pointer-events:auto !important;opacity:1 !important;visibility:visible !important}
  [inert]{pointer-events:auto !important}
</style>
<script id="kgb-hardcap">
(function(){
  if (window.__KGB_HARDCAP__) return; window.__KGB_HARDCAP__=true;

  function unlock(){
    try{
      document.querySelectorAll('[inert]').forEach(el=>el.removeAttribute('inert'));
      document.querySelectorAll('dialog[open]').forEach(d=>{ try{ d.close(); }catch(_){ } });
      document.querySelectorAll('[aria-modal="true"]').forEach(el=>el.removeAttribute('aria-modal'));
      const host=(document.getElementById('root')||document.getElementById('app')||document.querySelector('main')||document.body);
      if (host) host.style.pointerEvents='auto';
      const sel='a,button,input,select,textarea,summary,[role="button"],[role="link"],[role="tab"],[onclick],[tabindex]';
      document.querySelectorAll(sel).forEach(el=>{ try{
        el.disabled=false; el.removeAttribute('disabled');
        const cs=getComputedStyle(el); if(cs.pointerEvents==='none') el.style.pointerEvents='auto';
      }catch(_){ }});
    }catch(_){}
  }

  function looksCover(el, vw, vh){
    try{
      if(!el || el===document.documentElement || el===document.body) return false;
      const r = el.getBoundingClientRect(), A=Math.max(1,vw*vh);
      const ratio = (Math.max(0,r.width)*Math.max(0,r.height))/A;
      const cls=((el.className||'')+' '+(el.id||'')).toLowerCase();
      if (/\b(overlay|backdrop|modal|scrim|spinner|loading|blocker)\b/.test(cls)) return true;
      const cs=getComputedStyle(el);
      if ((cs.position==='fixed'||cs.position==='absolute'||cs.position==='sticky') &&
          r.top<=2 && r.left<=2 && r.width>=vw*0.98 && r.height>=vh*0.90) return true;
      if (ratio>=0.90) return true;
      return false;
    }catch(_){ return false; }
  }

  function nuke(el){
    try{
      el.style.setProperty('display','none','important');
      el.style.setProperty('pointer-events','none','important');
      el.removeAttribute('inert');
    }catch(_){}
  }

  function killOnce(){
    unlock();
    const vw=innerWidth||1, vh=innerHeight||1;
    const pts=[[vw/2,vh/2],[6,6],[vw-6,6],[6,vh-6],[vw-6,vh-6]];
    for(const [x,y] of pts){
      const stack = (document.elementsFromPoint?document.elementsFromPoint(x,y):[]) || [];
      for(const el of stack){ if (looksCover(el, vw, vh)){ nuke(el); break; } }
    }
  }

  // run intensief even, daarna periodiek
  let t=0, fast=setInterval(()=>{ killOnce(); if(++t>20) clearInterval(fast); }, 300);
  setTimeout(()=>{ setInterval(killOnce, 2000); }, 6500);

  // vang alle pointer-events in CAPTURE en haal covers weg vóór andere handlers
  ['pointerdown','pointerup','click','mousedown','mouseup','touchstart','touchend'].forEach(type=>{
    window.addEventListener(type, function(ev){ killOnce(); }, true);
  });

  // na 1s automatisch doorsturen naar echte app (geen klik nodig)
  setTimeout(()=>{ try{ location.href='index_app.html?v='+Date.now(); }catch(_){} }, 1000);
})();
</script>
<!doctype html>
<meta charset="utf-8">
<meta http-equiv="refresh" content="0; url=../budget/">
<title>KGB Full → Budget</title>
<p>Doorsturen naar <a href="../budget/">Budget</a>…</p>
